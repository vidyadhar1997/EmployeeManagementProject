<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Employee management</title>
    <link rel="stylesheet" href="/css/ForgotPassword.css">
</head>
<body>
    <div>
        <div class="employeeManagement"><label for="EmployeeManagement">Employee Management</label></div>
        <div class="mainContainer">
            <form class="container">
                <div class="forgotPassword"><label for="Forgot Password">Forgot Password</label></div>
                <div class="inputs">
                    <label for="Email">Email:</label>
                    <input type="email" id="email" class="placeHolders" placeholder="Email" name="email" />
                </div>
                <div class="buttons">
                    <a style="text-decoration:none" href="login.html" class="loginInstead">Login</a>
                    <button type="submit" id="btnSend" class="forgotPasswordButton">Next</button>
                </div>
            </form>
        </div>
    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#btnSend").click(function () {
                var emailRegex = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i
                var Email = $("#email").val();
                if (Email.match(emailRegex)) {
                }
                else {
                    alert("Invalid email.");
                    return false;
                }
                console.log("Tyeped E-mail: " + Email);
                $.ajax({
                    type: "GET",
                    url: "/api/sendEmail/" + Email,
                    dataType: "",
                    contentType: "application/json; charset=utf-8",
                    processData: true,
                    success: function () {
                        alert("Password Send successfully.");
                        window.location.href = "https://localhost:5001/HTML/login.html"
                        return true;
                    },
                    error: function () {
                        alert("Error While Send Email..");
                    }
                });
            });
        });
    </script>
</body >
</html >
